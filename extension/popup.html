<!DOCTYPE html>
<html data-theme="forest">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="daisyui.css">
    <link rel="stylesheet" href="themes.css">
    <script src="./tailwindcss_cdn.js"></script>
    <style>
        /* Sidebar bookmark item styles */
        .bookmark-item {
            display: flex;
            align-items: center;
            padding: 0.5rem;
            position: relative;
            gap: 0.5rem;
        }
        .bookmark-item:hover {
            background: rgba(255,255,255,0.05);
        }
        .bookmark-link {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            flex: 1;
            min-width: 0;
            text-decoration: none;
            color: inherit;
        }
        .bookmark-favicon {
            width: 1.25rem;
            height: 1.25rem;
            flex-shrink: 0;
        }
        .bookmark-title {
            flex: 1;
            font-size: 0.875rem;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        .bookmark-url,
        .bookmark-timestamp {
            display: none;
        }
        .bookmark-category {
            flex-shrink: 0;
            font-size: 0.625rem;
            background: rgba(255,255,255,0.1);
        }
        .bookmark-actions {
            display: none;
            position: relative;
            z-index: 10;
        }
        .bookmark-item:hover .bookmark-actions {
            display: flex;
        }
        .bookmark-empty {
            padding: 1rem;
            text-align: center;
            opacity: 0.5;
            font-size: 0.875rem;
        }

        /* Fix DaisyUI collapse */
        .collapse {
            visibility: visible !important;
            border-radius: 0;
        }
        .collapse-title {
            min-height: unset;
        }

        /* Drag and drop styles */
        .bookmark-item.dragging {
            opacity: 0.5;
        }
        .collapse-content.drag-over {
            background: rgba(255,255,255,0.05);
        }

        /* Compact mode styles */
        body.compact #preview-card,
        body.compact #status-msg {
            display: none !important;
        }
        body.compact .header-bar {
            flex-direction: column;
            padding: 0.5rem;
            gap: 0.5rem;
            justify-content: flex-start;
        }
        body.compact .header-bar > * {
            margin-left: auto;
            margin-right: auto;
        }
        body.compact .header-bar .btn-save-wrapper {
            position: static;
            transform: none;
        }
        body.compact #btn-save {
            padding: 0.25rem 0.5rem;
            min-height: unset;
            height: auto;
        }
        body.compact .btn-save-text {
            display: none;
        }
        body.compact .btn-save-icon {
            display: inline;
        }

        /* Compact mode bookmark items - favicon only */
        body.compact .bookmark-item {
            padding: 0.25rem;
            justify-content: center;
        }
        body.compact .bookmark-link {
            justify-content: center;
        }
        body.compact .bookmark-title,
        body.compact .bookmark-category,
        body.compact .bookmark-actions {
            display: none !important;
        }
        body.compact .bookmark-favicon {
            width: 1.25rem;
            height: 1.25rem;
        }
        body.compact .collapse-title {
            padding: 0.25rem 0.5rem;
            font-size: 0.625rem;
        }
    </style>
</head>
<body class="w-full h-screen bg-base-100 text-base-content overflow-x-hidden flex flex-col">

    <!-- Header -->
    <div class="flex-none">
        <div class="header-bar bg-primary p-3 text-primary-content relative flex items-center justify-between">
            <a id="open-settings" href="options.html" class="hover:opacity-80 transition-opacity">⚙</a>

            <div class="btn-save-wrapper absolute left-1/2 -translate-x-1/2">
                <button id="btn-save" class="btn btn-outline btn-sm border border-primary-content/20">
                    <span class="btn-save-text">bookmark</span>
                    <span class="btn-save-icon hidden">+</span>
                </button>
            </div>

            <a id="open-web" href="#" class="text-xs hover:opacity-80 transition-opacity">↗</a>
        </div>

        <div id="preview-card" class="hidden bg-base-200 p-3 border-b border-base-300 transition-all">
            <div class="flex items-start gap-3">
                <div class="avatar">
                    <div class="w-10 h-10 rounded bg-base-100 p-1 shadow-sm ring-1 ring-base-content/10">
                        <img id="preview-icon" src="" alt="icon" class="object-contain" />
                    </div>
                </div>
                <div class="flex-1 min-w-0 overflow-hidden">
                    <div id="preview-title" contenteditable="true" class="text-sm font-bold leading-tight text-base-content rounded hover:bg-base-300 focus:bg-base-100 focus:outline-none focus:ring-1 focus:ring-primary truncate border border-transparent border-dashed hover:border-base-content/20 transition-all cursor-edit" spellcheck="false"></div>
                    <p id="preview-url" class="text-xs text-base-content/70 truncate mt-1"></p>
                </div>
            </div>
        </div>
        <div id="status-msg" class="text-center text-xs py-2 hidden"></div>
    </div>

    <!-- Bookmarks list with vertical scroll only -->
    <div class="flex-1 overflow-y-auto">
        <bookmark-list id="bookmark-list" class="list block">
        </bookmark-list>
    </div>

    <script src="components.js"></script>
    <script src="popup.js"></script>
</body>
</html>
